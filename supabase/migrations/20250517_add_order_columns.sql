-- Add missing columns to the `order` table for full compatibility with your order saving logic
ALTER TABLE `order`
ADD COLUMN user_name VARCHAR(255),
ADD COLUMN user_email VARCHAR(255),
ADD COLUMN payment_method VARCHAR(64),
ADD COLUMN card_last4 VARCHAR(8),
ADD COLUMN subtotal DECIMAL(10,2),
ADD COLUMN tax DECIMAL(10,2),
ADD COLUMN shipping DECIMAL(10,2),
ADD COLUMN total DECIMAL(10,2),
ADD COLUMN status VARCHAR(32),
ADD COLUMN created_at DATETIME,
ADD COLUMN shipping_first_name VARCHAR(255),
ADD COLUMN shipping_last_name VARCHAR(255),
ADD COLUMN shipping_address_line1 VARCHAR(255),
ADD COLUMN shipping_address_line2 VARCHAR(255),
ADD COLUMN shipping_city VARCHAR(255),
ADD COLUMN shipping_state VARCHAR(255),
ADD COLUMN shipping_postal_code VARCHAR(32),
ADD COLUMN shipping_country VARCHAR(64),
ADD COLUMN shipping_phone VARCHAR(32),
ADD COLUMN billing_first_name VARCHAR(255),
ADD COLUMN billing_last_name VARCHAR(255),
ADD COLUMN billing_address_line1 VARCHAR(255),
ADD COLUMN billing_address_line2 VARCHAR(255),
ADD COLUMN billing_city VARCHAR(255),
ADD COLUMN billing_state VARCHAR(255),
ADD COLUMN billing_postal_code VARCHAR(32),
ADD COLUMN billing_country VARCHAR(64),
ADD COLUMN billing_phone VARCHAR(32);
